var ScrollPosStyler=function(document,window){"use strict";var scrollPosY=0,busy=false,scrollOffsetY=1,spsClass="sps",elements=document.getElementsByClassName(spsClass),classAbove="sps--abv",classBelow="sps--blw",offsetTag="data-sps-offset";function onScroll(){if(!busy){var elementsToUpdate=getElementsToUpdate(false);if(elementsToUpdate.length>0){busy=true;window.requestAnimationFrame(function(){updateElements(elementsToUpdate)})}}}function getElementsToUpdate(init){var elementsToUpdate=[];scrollPosY=window.pageYOffset;for(var i=0;elements[i];++i){var element=elements[i];var elScrollOffsetY=element.getAttribute(offsetTag)||scrollOffsetY;var elOnTop=element.classList.contains(classAbove);if((init||elOnTop)&&scrollPosY>elScrollOffsetY){elementsToUpdate.push({element:element,addClass:classBelow,removeClass:classAbove})}else if((init||!elOnTop)&&scrollPosY<=elScrollOffsetY){elementsToUpdate.push({element:element,addClass:classAbove,removeClass:classBelow})}}return elementsToUpdate}function updateElements(elementsToUpdate){for(var i=0;elementsToUpdate[i];++i){var map=elementsToUpdate[i];map.element.classList.add(map.addClass);map.element.classList.remove(map.removeClass)}busy=false}var pub={init:function(options){busy=true;if(options){if(options.spsClass){spsClass=options.spsClass;elements=document.getElementsByClassName(spsClass)}scrollOffsetY=options.scrollOffsetY||scrollOffsetY;classAbove=options.classAbove||classAbove;classBelow=options.classBelow||classBelow;offsetTag=options.offsetTag||offsetTag}var elementsToUpdate=getElementsToUpdate(true);if(elementsToUpdate.length>0){window.requestAnimationFrame(function(){updateElements(elementsToUpdate)})}else{busy=false}}};document.addEventListener("DOMContentLoaded",function(){window.setTimeout(pub.init,1)});window.addEventListener("scroll",onScroll);return pub}(document,window);