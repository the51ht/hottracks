window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=function(t,e){e=e||window;for(var s=0;s<this.length;s++)t.call(e,this[s],s,this)});var KyoboBookPub=KyoboBookPub||{};$(function(){$.widget("custom.selectProdOption",$.ui.selectmenu,{_renderItem:function(t,e){var s,i,a,o,n;return s=$("<li>"),i=$("<div>",{class:"prod_option"}),e.disabled&&s.addClass("ui-state-disabled"),n=void 0!==e.element.attr("data-prod-pb"),i.data(e.element.data()),a=$("<span>",{class:"option_label_box",text:e.label}),o=$("<span>",{class:"option_price_box"}),e.disabled&&n?$("<button>",{class:"btn_option_restock"+(n?" prod_pb":""),text:"재입고알림"}).appendTo(o):e.disabled||($("<span>",{class:"option_price"+(n?" prod_pb":""),text:e.element.attr("data-price")}).appendTo(o),$("<span>",{class:"option_price_unit",text:e.element.attr("data-unit")}).appendTo(o)),i.append(a).append(o),s.append(i).appendTo(t)}})}),KyoboBookPub.ink=KyoboBookPub.ink||function(){var t,e,s,i,a,o={},n=1440,l=0,r=0,c=0,d=0,h=0,f=0;function u(){if(void 0!==t){var e=$(".search_input_wrap"),s=$(".anb_wrap"),i=$(".gnb_sub_list .gnb_sub_item.more_service"),a=$(".service_mall_list .service_mall_item.brand_more"),o=$(".customer_service_list .customer_service_item.member_benefit");if(t.hasClass("sps")){function l(){n>r&&r>0&&d!==c&&t.css({transform:"translateX("+-c+"px)"})}t.attr("data-sps-offset",Math.round($(".gnb_wrap").offset().top)),$(window).off("scroll.uiGnb resize.uiGnb",l).on("scroll.uiGnb resize.uiGnb",l)}m(e,".ip_gnb_search"),h(i,i.find(".btn_more_service")),h(s,s.find(".btn_anb")),h(a,a.find(".btn_brand_more")),h(o,o.find(".btn_member_benefit"))}function h(t,e){e.on({click:function(){t.hasClass("active")?t.removeClass("active animated"):(t.addClass("active"),setTimeout(function(){t.addClass("animated")},30))}})}}function p(){if(!(e.length<=0&&s.length<=0)){var t=0;$(".wrapper").hasClass("member_login")||(t=Math.round($(".gnb_wrap").offset().top),e.attr("data-sps-offset",t)),i(),$(window).off("scroll.uiFloating resize.uiFloating",i).on("scroll.uiFloating resize.uiFloating",i)}function i(){c<n-r?(s.css("transform","translateX("+(n-r-c)+"px)"),h<t?e.css("transform",""):e.add(s).css("transform","translateX("+(n-r-c)+"px)")):e.add(s).css("transform","")}}function m(t,e){var s,i,a;t=t||".form_ip_search",e=e||".form_ip",$(t).length>0&&$(t).each(function(){s=$(this),i=$(this).find(e),a=$(this).find(".btn_ip_clear"),i.val().length>0&&s.addClass("value"),a.off("click").on("click",function(){(s=$(this).closest(t)).find(e).val("").focus(),s.removeClass("value")}),i.on({"propertychange change input paste":function(){s=$(this).closest(t),$(this).val().length>0?s.addClass("value"):s.removeClass("value")},focusin:function(){(s=$(this).closest(t)).hasClass("focus")||s.addClass("focus")},focusout:function(){(s=$(this).closest(t)).hasClass("focus")&&s.removeClass("focus")}})})}function _(t){void 0!==window.SimpleBar&&(SimpleBar.defaultOptions.autoHide=!1,$(void 0!==t?t+" .custom_scroll_wrap":".custom_scroll_wrap").each(function(t){var e,s,i,a;i=$(this).children(),$(this).prepend('<div class="custom_scroll_inner" tabIndex="0"></div>'),(a=$(this).find(".custom_scroll_inner")).append(i),s=SimpleBar.getElOptions(this),e=new SimpleBar(this,s),this.simpleBar=e;var o=new MutationObserver(function(t,e){t.forEach(function(t){if("style"===t.attributeName){target=t.target;var e=$(target).closest(".custom_scroll_wrap"),s=$(target).find(".custom_scroll_inner");s.height();e.height()<s.height()?e.addClass("active"):e.removeClass("active")}})});$(a[0]).closest(".simplebar-content")[0].getAttribute("style").match("overflow: hidden scroll")&&$(this).addClass("active"),o.observe($(a[0]).closest(".simplebar-content")[0],{attributes:!0,childList:!0,characterData:!0}),$(this).off("mousewheel DOMMouseScroll").on("mousewheel DOMMouseScroll",function(t){B()}),$(this).hasClass("horizontal")&&$(this).off("mousewheel DOMMouseScroll").on("mousewheel DOMMouseScroll",function(t){var s,i,a;a=e.getScrollElement(),s=t.originalEvent,i=t.originalEvent.wheelDelta?t.originalEvent.wheelDelta/2:20*-s.detail,(a.scrollLeft-=i)<=0||a.getBoundingClientRect().width+a.scrollLeft-i>=a.scrollWidth||(t.preventDefault(),a.scrollLeft-=i)})}))}function v(){$('table[class*="tbl_col"], table[class*="tbl_row"]').each(function(t){var e,s,i,a,o;$(this),e=$(this).attr("class"),captionTextOrigin=$(this).find("caption").text(),s="",o="",i=[],a=[],o=e.match("tbl-form")&&null!==e.match("form-view")?"을(를) 입력하는 표입니다.":"을(를) 나타낸 표입니다.",$(this).find("thead th").length>0&&$(this).find("thead th").each(function(t){i.push($(this).text())}),$(this).find("tbody th").length>0&&($(this).find("tbody th").each(function(t){i.length>0?(void 0===a[$(this).index()]&&(a[$(this).index()]=i[$(this).index()]+" 컬럼의 하위로"),a[$(this).index()]+=" "+$(this).text()):a.push($(this).text())}),a=a.filter(function(t){return void 0!=t})),i.length>0&&a.length>0?s+=i.join(", ")+" "+a.join(", "):i.length>0?s+=i.join(", "):a.length>0&&(s+=a.join(", ")),$(this).find("caption").text(captionTextOrigin+" 테이블로 "+s+o)})}function g(){if($(".form_rating").length<=0)return!1;$(".form_rating").each(function(){var t=$(this);t.rating({language:"ko",theme:"krajee-gly",clearCaption:0,stars:4,min:0,max:10,step:2.5,starCaptions:function(e){return void 0!==t.data("caption")?'<span class="val">'+e+'</span><span class="total">10</span>':" "}}),void 0!==t.data("caption")&&t.closest(".rating-container").addClass("has_caption")})}function b(){var t,e=[],s=$(".header_wrapper").hasClass("sps")?80:0;if(e=[],t=$(".sps",i),$(".sps",i).each(function(s){var i;i=this,e.some(function(t){return $(i).hasClass(t)})||t.push(i)}),0===t.length)return!1;t.each(function(t){a($(this))});function a(t){var e,i,a;0===t.find(".sps_observer").length&&t.append('<div class="sps_observer" style="top:'+t.css("top")+';"></div>'),e=t.find(".sps_observer"),i=void 0===t.data("add-offset")||isNaN(t.data("add-offset"))?0:t.data("add-offset"),a=t.outerHeight(),t.hasClass("sps_ofs_bottom")?t.attr("data-sps-offset",Math.round(e.offset().top-s+t.outerHeight()-i)):t.attr("data-sps-offset",Math.round(e.offset().top-s-a-i)),ScrollPosStyler.init()}new ResizeSensor(i,function(){$(".sps[data-height-observe]").each(function(t){a($(this))})})}function w(){var t,e;t=[],e=["fly_menu_wrapper","floating_wrapper","tab_content"],["prod_detail_footer"].forEach(function(e){$("."+e).each(function(e){this.isForceTransformX=!0,t.push(this)})}),$(".sps.sps_scroll_fixed").each(function(s){var i;i=this,e.some(function(t){return $(i).hasClass(t)})||t.push(i)}),n>r&&r>0&&(d!==c&&(t.forEach(function(t){$(t).hasClass("sps_scroll_fixed")?$(t).attr("data-sps-offset")<=h&&$(t).css({transform:"translateX("+-c+"px)"}):$(t).css({transform:"translateX("+-c+"px)"})}),d=c),f!==h&&(t.forEach(function(t){$(t).attr("data-sps-offset")<=h&&t.isForceTransformX?($(t).css({transform:"translateX("+-c+"px)"}),t.isForceTransformX=!1):$(t).attr("data-sps-offset")>h&&!t.isForceTransformX?t.isForceTransformX=!0:$(t).attr("data-sps-offset")>h&&t.isForceTransformX&&$(t).css("transform","")}),f=h))}window.ScrollPosStyler&&ScrollPosStyler.init({classAbove:"sps-abv",classBelow:"sps-blw"});var C={};function x(t,e,s){var i,a,o,n;(t=t||".dialog_wrap",e=e||"[data-role=btn-dialog]",s=s||"[data-dialog-close]",$(t).length>0)&&$(t).each(function(){if($(this).parents(".ui-dialog").length>0)return!1;a="body",n="dialog_wrapper",i="",void 0!==$(this).data("class")&&(i=isNaN(parseInt($(this).data("class")))?$(this).data("class"):"auto"),o=a.replace("#","")+"Dialog"+l,$(a).append('<div id="'+o+'" class="'+n+'"></div>'),l++,$(this).dialog({appendTo:a+" #"+o,autoOpen:!1,width:"none",minHeight:"none",closeText:"닫기",modal:!0,resize:!1,resizable:!1,draggable:!1,position:null,classes:{"ui-dialog":i},open:function(t,e){var s=$(this),i=s.closest(".ui-dialog"),a=s.closest("."+n);if(void 0!==s.data("nodim"))var o=!0;if(o)a.addClass("no_dim");else{var l=$(document).scrollTop();a.css({top:l}),$("body").addClass("dialog_open")}var r=999;$(".ui-dialog-container:visible").length>0&&$(".ui-dialog-container:visible").each(function(){r=Math.max(r,s.css("z-index"))}),a.addClass("open").css("z-index",r+2),o||(C[a.attr("id")]=i.outerHeight(),y()),$(this).parent().find(".swiper-container").length>0&&$(this).parent().find(".swiper-container").each(function(t){!function t(e){e.clientWidth>0?void 0!==e.swiper&&(null!==e.swiper.params.thumbs.swiper&&e.swiper.params.thumbs.swiper.update(),e.swiper.update()):setTimeout(function(){t(e)},10)}(this)}),$(this).parent().find(".custom_scroll_wrap").length>0&&$(this).parent().find(".custom_scroll_wrap").each(function(t){this.simpleBar.recalculate()}),B()},close:function(t,e){var s,i=$(this).closest(".dialog_wrapper"),o=i.css("top");0!==$(".dialog_wrapper.no_dim.open").length&&(s=!0),i.removeClass("open").removeAttr("style"),(0===$(".ui-dialog-content:visible").length||$("[data-nodim]:visible").length>0)&&(i.removeAttr("style"),$(a).removeClass("dialog_open"),s||$(window).scrollTop(parseInt(o))),i.removeClass("no_dim"),s||delete C[i.attr("id")]}}),void 0!==$(this).data("nodim")&&$(this).dialog({modal:!1}),$(e).length>0&&$(e).each(function(t){$(this).off("click").on("click",function(t){var e=$(this).data("target");t.preventDefault(),T().popOpen(e)})}),$(s).length>0&&$(s).each(function(e){$(this).off("click").on("click",function(e){var s,i;i=$(this).closest(t).attr("id"),e.preventDefault(),T().popClose("#"+i),"btn-dialog"===$(this).data("role")&&(s=$(this).data("target"),T().popOpen(s))})})})}function y(){$(".dialog_wrapper.open").length>0&&$(".dialog_wrapper.open").each(function(){var t=$(this).attr("id");$(window).height()<C[t]?$(this).find(".ui-dialog").addClass("h_auto"):$(this).find(".ui-dialog").removeClass("h_auto")})}function T(){return{popOpen:function(t,e){$(t).dialog("open"),null!=e&&"function"==typeof e&&e.apply(null,[t]),S()},popClose:function(t){$(t).dialog("close")}}}function k(t,e){var s,i;t=t||".form_ip_pw",e=e||".btn_toggle_pw",$(e).each(function(e){(s=$(this)).closest(t).find("input").prop("disabled")&&s.attr("disabled",!0),s.off("click").on("click",function(){i=$(this).closest(t).find("input"),$(this).hasClass("active")&&"text"===i.attr("type")?($(this).removeClass("active"),i.attr("type","password")):($(this).addClass("active"),i.attr("type","text"))})})}function O(t){t=t||".form_sel",$(t).length>0&&$(t).each(function(){var e,s,i,a,o,n,l,r,c;if(a="type_arw"===$(this).data("class"),e={},s="",i={my:"left top",at:"left bottom"},a&&(i={my:"right top+6",at:"right bottom"}),e.position=i,void 0!==$(this).data("append-to")&&(e.appendTo=$(this).data("append-to")),$(this).data("renderer"))return o=$(this),n=e,l=o.data("renderer"),c=o.data("widgetClass"),n.open=function(t,e){r.css("width",o.width()),"selectProdOption"===l&&o.css("padding-bottom",r.outerHeight())},n.close=function(t,e){"selectProdOption"===l&&o.css("padding-bottom",0)},void(r=o.find("select")[l](n)[l]("menuWidget").addClass(c));e.create=function(e){var i,a;if(this,i=$(this).selectmenu("instance"),(s=$(this).closest(t).data("class"))&&($(this).closest(t).addClass(s),i.menuWrap.addClass(s)),$(this).selectmenu("open"),(a=i.button.outerWidth())!==i.menuWrap.outerWidth()){if("type_arw"===s)return $(this).selectmenu("close"),!1;i.menuWrap.css("width",a)}$(this).selectmenu("close")},$(this).find("select").selectmenu(e)})}function S(t){t=t||".form_sel",$(t).length>0&&$(t).each(function(){$(this).find("select").selectmenu("destroy"),O($(this))})}function B(){$(".form_sel .ui-selectmenu-button-open").each(function(t){"selectProdOption"===$(this).closest(".form_sel").attr("data-renderer")?$(this).closest(".form_sel").find("select").selectProdOption("close"):$(this).closest(".form_sel").find("select").selectmenu("close")})}function H(t){t=t||".tab_wrap",$(t).length>0&&$(t).each(function(t){var e;e=[],void 0===$(this).data("type-btn")&&($(this).find("> .tab_list_wrap .tabs .tab_link").each(function(t){$(this).hasClass("tab_disabled")&&e.push(t)}),$(this).tabs({disabled:e,beforeActivate:function(t,e){0!==$(e.newTab).find("a").attr("href").indexOf("#")&&window.open($(e.newTab).find("a").attr("href"),"_self")},activate:function(t,e){}}))})}function M(t){t=t||".fold_box_wrap",$(t).length>0&&$(t).find(".fold_box .fold_box_header").each(function(t){$(this).off("click").on("click",function(t){if(!($(t.target).is("a")||$(t.target).is("button")||$(t.currentTarget).closest(".fold_box").is(".no_fold")||$(t.target).is("input")||$(t.target).is("label")&&($(t.target).is("label")||$(t.target).is("input")))){var e,s,i=$(this).closest(".fold_box"),a=0;if(e=i.outerHeight(),s=i.hasClass("expanded"),"multi"!==$(t.currentTarget).closest(".fold_box_wrap").data("type")){var o,n,l=$(t.currentTarget).closest(".fold_box_wrap").is(".category");if((o=s?$(this).closest(".fold_box_wrap").find(".fold_box").not(".expanded"):$(this).closest(".fold_box_wrap").find(".fold_box")).removeClass("expanded"),o.each(function(t){n=$(this).outerHeight(),o.css("height","auto"),a=$(this).outerHeight(),$(this).css("height",n).stop().animate({height:a},150)}),l){var r=$(t.currentTarget).closest(".fold_box_wrap.category").closest(".fold_box");$(t.currentTarget).closest(".fold_box_wrap.category").hasClass("inner")&&r.css("height","auto"),$(t.currentTarget).closest(".fold_box.category").css("height","auto")}}s?i.removeClass("expanded"):i.addClass("expanded"),i.css("height","auto"),a=i.outerHeight(),i.css("height",e).stop().animate({height:a},150);var c={index:$(t.currentTarget).closest(".fold_box").index(),isExpanded:$(t.currentTarget).closest(".fold_box").hasClass("expanded")},d=new CustomEvent("headerClick",{detail:c});$(t.currentTarget).closest(".fold_box")[0].dispatchEvent(d)}})})}function E(t,e,s,i){t=t||".auto_overflow_wrap",e=e||".auto_overflow_contents",s=s||".auto_overflow_inner",i=i||"> .auto_overflow_footer [data-btn-toggle]",$(t).length>0&&$(t).each(function(){var a,o,n,l,r,c;n=parseInt($(this).find(e).css("max-height").replace("px","")),l=$(this).find(s).outerHeight(),r=$(this).find(i).text(),l<=n||($(this).addClass("overflow"),$(this).hasClass("active")&&(o=!0),void 0!==$(this).find(i).data("btn-toggle")&&(a=!0),a&&$(this).find(i).on("click",function(e){Boolean(r.match("펼치기"))?c=r.replace("펼치기","접기"):Boolean(r.match("더보기"))?c=r.replace("더보기","닫기"):Boolean(r.match("접기"))?c=r.replace("접기","펼치기"):Boolean(r.match("닫기"))&&(c=r.replace("닫기","더보기")),$(this).closest(t).hasClass("active")?($(this).closest(t).removeClass("active"),$(this).removeClass("active"),o?$(this).find(".text").text(c):$(this).find(".text").text(r)):($(this).closest(t).addClass("active"),$(this).addClass("active"),o?$(this).find(".text").text(r):$(this).find(".text").text(c))}))})}function D(t){t=t||".tooltip_wrap",$(t).length>0&&$(t).each(function(){var t,e;t=$(this),$(this).find(".btn_tooltip").on("click",function(){void 0!==$(this).data("btn-toggle")&&(e=!0),e?t.hasClass("active")?(t.removeClass("active").addClass("hide"),$(this).find(".hidden").text("툴팁열기")):($(".tooltip_wrap.active").removeClass("active").addClass("hide"),t.removeClass("hide").addClass("active"),$(this).find(".hidden").text("툴팁닫기")):t.hasClass("active")||($(".tooltip_wrap.active").removeClass("active").addClass("hide"),t.removeClass("hide").addClass("active"))}),e||$(this).find(".btn_tooltip_close").on("click",function(){t.removeClass("active").addClass("hide")}),$(this).on("transitionend",function(){$(this).removeClass("hide")})})}function P(){var t=$(".btn_road_name"),e=$(".btn_land_number"),s=$(".success_detail");function i(t){t.on("click",function(e){s.removeClass("active"),s.eq(t.index($(this))).addClass("active")})}s.length>0&&(i(t),i(e))}return o.setSpsOffsetData=b,o.setCustomScroll=_,o.setTableCaption=v,o.setStarRating=g,o.setUIDialog=x,o.dialogOnOff=T,o.setUISelect=O,o.setSelectReInit=S,o.callSelectRefresh=function(t){$(t).selectmenu("refresh")},o.togglePassword=k,o.setTabs=H,o.setFoldBox=M,o.setGNB=u,o.setFloating=p,o.setPrependZero=function(t,e){return t+="",e=e||2,t.length>=e?t:new Array(e-t.length+1).join("0")+t},o.setToastMessage=function(t,e){e||(e=2e3);var s=$("<div class='toast_wrap'><span class='toast_message'>"+t+"</span></div>");function i(){n>r?$(".toast_wrap").css({left:"600px",transform:"translateX("+-c+"px)"}):$(".toast_wrap").css({left:"",transform:""})}$("body").find(".toast_wrap").length<1&&$("body").append(s),i(),s.slideToggle(200,function(){isNaN(e)||setTimeout(function(){s.fadeOut(function(){$(this).remove()})},e)}),$(window).off("scroll.uiToast resize.uiToast",i).on("scroll.uiToast resize.uiToast",i)},o.tooltipOnOff=D,o.autoOverflowContents=E,o.checkImagePortrait=function(t,e){e=void 0===e?t:e;var s=t.find("img").get(0);s.naturalWidth>s.naturalHeight?e.addClass("landscape"):s.naturalWidth<s.naturalHeight?e.addClass("portrait"):e.addClass("even")},o.addressDetailAreaOnOff=P,o.setSwitchListBtn=function(t){$(".switch_list_btn_wrap").each(function(e){var s,i;s=$(this).find("button"),i=$($(this).data("target")),s.on("click.switch",function(e){var a;s.removeClass("active"),$(this).addClass("active"),a="view_type_"+$(this).data("type"),i.removeClass("view_type_img view_type_txt view_type_list").addClass(a),t(i,a)})})},$(window).on("scroll.uiCommon resize.uiCommon",function(){c=Math.round(document.documentElement.scrollLeft||window.pageXOffset),h=Math.round(document.documentElement.scrollTop||window.pageYOffset),w(),B()}),$(window).on("resize.uiCommon",function(){r=$(window).width()||window.innerWidth||document.body.clientWidth,$(window).height()||window.innerHeight||document.body.clientHeight,$(window).height()||window.innerHeight||document.body.clientHeight,y()}),$(document).ready(function(){var o;r=$(window).width()||window.innerWidth||document.body.clientWidth,$(window).height()||window.innerHeight||document.body.clientHeight,c=Math.round(document.documentElement.scrollLeft||window.pageXOffset),h=Math.round(document.documentElement.scrollTop||window.pageYOffset),a=$(".btn_go_top"),t=$(".header_wrapper"),e=$(".fly_menu_wrapper"),s=$(".floating_wrapper"),i=$(".container_wrapper"),a.off("click").on("click",function(t){t.preventDefault(),$("html, body").animate({scrollTop:0},200,function(){})}),u(),p(),b(),w(),_(),v(),g(),x(),$(".breadcrumb_item",".breadcrumb_wrap").each(function(){$(this).on({"mouseenter focusin":function(t){var e=$(this);e.siblings(".breadcrumb_item").removeClass("active"),e.addClass("active"),setTimeout(function(){e.addClass("animated")},30)},"mouseleave focusout":function(t){var e,s;s=this,e=$(s).closest(".breadcrumb_item"),setTimeout(function(){$(e).find("a:focus").length<1&&$(e).find("button:focus").length<1&&$(s).removeClass("active animated")},50)}})}),O(),k(),o=o||".form_spinner",$(o).length>0&&($(o).each(function(t){var e=$(this).attr("disabled");$(this).spinner({decreseText:"상품 수량 한 개 줄이기",increseText:"상품 수량 한 개 늘리기",min:void 0===$(this).data("min")?0:$(this).data("min"),max:$(this).data("max"),disabled:e})}),$(o).off("input").on("input",function(t){var e,s;null===(e=$(this).spinner("value"))&&(e=0),s=e.toString().replace(/[^\d+$]/g,""),$(this).spinner("value",s)})),H(),M(),P(),$(".btn_family_site").on("click",function(){$(".family_site_box").hasClass("active")?$(".family_site_box").removeClass("active animated"):($(".family_site_box").addClass("active"),setTimeout(function(){$(".family_site_box").addClass("animated")},30))}),m(),D(),$(".btn_share").on("click",function(){$(this).closest(".sns_share_wrap").addClass("active")}),$(".btn_sns_share_close").on("click",function(){$(this).closest(".sns_share_wrap").removeClass("active")}),E(),$(".tag_wrap").each(function(){void 0!==$(this).data("tag-toggle")&&$(this).find(".tag_item").on("click",function(){$(this).siblings().removeClass("active"),$(this).addClass("active")})})}),o}();var CustomSwiper=function(t,e){return new Swiper(t,e)};
//# sourceMappingURL=ui_ink.min.js.map
